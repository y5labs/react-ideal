var L=Object.defineProperty,R=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var O=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x=(t,e)=>{for(var r in e||(e={}))F.call(e,r)&&O(t,r,e[r]);if(j)for(var r of j(e))I.call(e,r)&&O(t,r,e[r]);return t},h=(t,e)=>R(t,D(e));import{j as v,i as n,H as N,r as i,p as b,a as P,b as q}from"./vendor.18271ffa.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};A();const c=v.exports.jsx,y=v.exports.jsxs,S=v.exports.Fragment;n("ctx",()=>{const t=N(),e=i.exports.createContext(),r=a=>c(e.Provider,{value:a.hub?a.hub:t,children:a.children});return n("provider",r),{hub:t,HubContext:e,HubProvider:r}});n("ctx",({HubContext:t})=>{const e=i.exports.createContext(),r=({children:a})=>{const[o,s]=i.exports.useState({number:43,time:new Date().valueOf()}),u=i.exports.useContext(t);return i.exports.useEffect(u.effect(m=>{m.on("increment",()=>{s(d=>h(x({},d),{number:d.number+1}))});const f=setInterval(()=>{s(d=>h(x({},d),{time:new Date().valueOf()}))},1e3);return()=>{clearInterval(f)}}),[]),c(e.Provider,{value:o,children:a})};return n("provider",r),{StateContext:e,StateProvider:r}});n("pod",()=>{n("404",()=>c("div",{children:"Orders Page"}))});n("pod",({StateContext:t,HubContext:e})=>{n("route",["/",r=>()=>{const a=i.exports.useContext(t),o=i.exports.useContext(e),s=u=>{u.preventDefault(),o.emit("increment")};return y(S,{children:[a.time,": The answer is ",a.number,".",c("button",{onClick:s,children:"+"})]})}])});n("pod",()=>{n("route",["/orders",t=>()=>c("div",{children:"Orders Page"})])});n("pod",({RouterContext:t})=>{n("app",()=>{const e=i.exports.useContext(t),r=n.one("404");return y(S,{children:[y("nav",{children:[c("div",{children:c("a",{href:"/",children:"Home"})}),c("div",{children:c("a",{href:"/orders",children:"Orders"})})]}),c("article",{children:e?c(e,{}):c(r,{})})]})})});n("ctx",({HubContext:t})=>{const e=i.exports.createContext(),r=a=>{const[o,s]=i.exports.useState(),{children:u}=a,m=i.exports.useContext(t),f=window.location.hostname,d=f.split("."),E=d.length==3?d[0]:null;return i.exports.useEffect(()=>{b("*",(l,p)=>{p(),window.scrollTo(0,0)}),n.many("route").forEach(l=>P(...l)),P.routes().forEach(l=>{b(l.pattern,(p,H)=>{const g={hostname:f,subdomain:E,url:p.pathname,params:p.params,querystring:p.querystring};let C=!1;const w=l.cb(g,()=>{C=!0,H()});C||(s(()=>w),m.emit("navigate",g,w))})}),b.start()},[]),c(e.Provider,{value:o,children:u})};return n("provider",r),{RouterContext:e,RouterProvider:r}});n("pod",async()=>{const t=n.one("app"),e=()=>n.many("provider").reverse().reduce((r,a)=>c(a,{children:r}),c(t,{}));q.exports.render(c(e,{}),document.getElementById("root"))});(async()=>{const t={};for(let e of n.many("ctx"))Object.assign(t,await e(t));for(let e of n.many("pod"))await e(t);await t.hub.emit("ready")})();
